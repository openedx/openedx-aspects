.. _quick-start-ralph:

Ralph
******

Installation instructions for Aspects are available on the plugin site: https://github.com/openedx/tutor-contrib-aspects

Ralph is the default option to send xAPI events to Clickhouse. To run it make sure to enable the `RUN_RALPH` option in the `config.yml` file.

.. code-block:: yaml

    RUN_RALPH: True

    # We recommend only running Ralph or Vector for performance reasons, so
    # suggest turning off Vector here
    RUN_VECTOR: False


Aspects provides the following configuration options:

.. code-block:: yaml

    # If True, the public URL ralph.{{LMS_HOST}} will be made publicly
    # available, otherwise Ralph will only be available on local Docker network.
    RALPH_ENABLE_PUBLIC_URL: False
    RALPH_PORT: 8100

    # If you are running Sentry for service monitoring, you can configure it
    # here to expose Ralph information.
    RALPH_SENTRY_DSN: ""
    RALPH_EXECUTION_ENVIRONMENT: "production"
    RALPH_SENTRY_CLI_TRACES_SAMPLE_RATE: 1.0
    RALPH_SENTRY_LRS_TRACES_SAMPLE_RATE: 0.1
    RALPH_SENTRY_IGNORE_HEALTH_CHECKS: True

    # Any extra setting for Ralph such backends or cache settings can be added
    # here
    RALPH_EXTRA_SETTINGS: {}

    # These will be generated by Tutor automatically, but can be overridden
    RALPH_ADMIN_USERNAME: "admin"
    RALPH_ADMIN_PASSWORD: "secure-password"
    RALPH_LMS_USERNAME: "lms"
    RALPH_LMS_PASSWORD: "secure-password"


To connect an external Ralph instance, you can use the following configuration:

.. code-block:: yaml

    # Turns off running Ralph in the Tutor environment
    RUN_RALPH: False

    # The hostname of your existing Ralph installation
    RALPH_HOST: "ralph.example.com"

    # If True, Aspects will connect to Ralph via HTTPS instead of HTTP
    RALPH_RUN_HTTPS: False
